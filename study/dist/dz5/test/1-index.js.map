{"version":3,"sources":["../../../dz5/test/1-index.js"],"names":["describe","it","target","document","createElement","eventName","passed","fn","dispatchEvent","CustomEvent","addEventListener","result","cancelable","innerHTML","children","bubbles","equal"],"mappings":";;AAAA;;;;AACA;;;;AASAA,SAAS,qBAAT,EAAgC,YAAM;AAClCA,aAAS,aAAT,EAAwB,YAAM;AAC1BC,WAAG,8CAAH,EAAmD,YAAM;AACrD,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIC,SAAS,KAAb;AACA,gBAAIC,KAAK,SAALA,EAAK;AAAA,uBAAMD,SAAS,IAAf;AAAA,aAAT;;AAEA,oCAAYD,SAAZ,EAAuBH,MAAvB,EAA+BK,EAA/B;;AAEA,kCAAO,CAACD,MAAR;AACAJ,mBAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,CAArB;AACA,kCAAOC,MAAP;AACH,SAXD;AAYH,KAbD;;AAeAN,aAAS,gBAAT,EAA2B,YAAM;AAC7BC,WAAG,4CAAH,EAAiD,YAAM;AACnD,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIC,SAAS,KAAb;AACA,gBAAIC,KAAK,SAALA,EAAK;AAAA,uBAAMD,SAAS,IAAf;AAAA,aAAT;;AAEAJ,mBAAOQ,gBAAP,CAAwBL,SAAxB,EAAmCE,EAAnC;;AAEA,uCAAeF,SAAf,EAA0BH,MAA1B,EAAkCK,EAAlC;;AAEAL,mBAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,CAArB;AACA,kCAAO,CAACC,MAAR;AACH,SAZD;AAaH,KAdD;;AAgBAN,aAAS,aAAT,EAAwB,YAAM;AAC1BC,WAAG,gFAAH,EAAqF,YAAM;AACvF,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIM,eAAJ;;AAEA,oCAAYN,SAAZ,EAAuBH,MAAvB;;AAEAS,qBAAST,OAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,EAA2B,EAAEO,YAAY,IAAd,EAA3B,CAArB,CAAT;AACA,kCAAO,CAACD,MAAR;AACH,SATD;AAUH,KAXD;;AAaAX,aAAS,cAAT,EAAyB,YAAM;AAC3BC,WAAG,qCAAH,EAA0C,YAAM;AAC5C,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIC,SAAS,KAAb;AACA,gBAAIC,KAAK,SAALA,EAAK;AAAA,uBAAMD,SAAS,IAAf;AAAA,aAAT;;AAEAJ,mBAAOQ,gBAAP,CAAwBL,SAAxB,EAAmCE,EAAnC;;AAEA,qCAAaL,MAAb;;AAEA,kCAAOI,MAAP;AACH,SAXD;AAYH,KAbD;;AAeAN,aAAS,UAAT,EAAqB,YAAM;AACvBC,WAAG,kFAAH,EAAuF,YAAM;AACzF,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIC,SAAS,KAAb;AACA,gBAAIC,KAAK,SAALA,EAAK;AAAA,uBAAMD,SAAS,IAAf;AAAA,aAAT;;AAEAJ,mBAAOW,SAAP,GAAmB,qDAAnB;;AAEA,iCAASX,MAAT,EAAiBK,EAAjB;;AAEA,kCAAO,CAACD,MAAR;AACAJ,mBAAOY,QAAP,CAAgB,CAAhB,EAAmBN,aAAnB,CAAiC,IAAIC,WAAJ,CAAgBJ,SAAhB,EAA2B,EAAEU,SAAS,IAAX,EAA3B,CAAjC;AACA,kCAAO,CAACT,MAAR;AACAJ,mBAAOY,QAAP,CAAgB,CAAhB,EAAmBN,aAAnB,CAAiC,IAAIC,WAAJ,CAAgBJ,SAAhB,EAA2B,EAAEU,SAAS,IAAX,EAA3B,CAAjC;AACA,kCAAO,CAACT,MAAR;AACAJ,mBAAOY,QAAP,CAAgB,CAAhB,EAAmBN,aAAnB,CAAiC,IAAIC,WAAJ,CAAgBJ,SAAhB,EAA2B,EAAEU,SAAS,IAAX,EAA3B,CAAjC;AACA,kCAAO,CAACT,MAAR;AACAJ,mBAAOY,QAAP,CAAgB,CAAhB,EAAmBN,aAAnB,CAAiC,IAAIC,WAAJ,CAAgBJ,SAAhB,EAA2B,EAAEU,SAAS,IAAX,EAA3B,CAAjC;AACA,kCAAOT,MAAP;AACH,SAnBD;AAoBH,KArBD;;AAuBAN,aAAS,MAAT,EAAiB,YAAM;AACnBC,WAAG,kFAAH,EAAuF,YAAM;AACzF,gBAAIC,SAASC,SAASC,aAAT,CAAuB,KAAvB,CAAb;AACA,gBAAIC,YAAY,OAAhB;AACA,gBAAIC,SAAS,CAAb;AACA,gBAAIC,KAAK,SAALA,EAAK;AAAA,uBAAMD,QAAN;AAAA,aAAT;;AAEA,6BAAKJ,MAAL,EAAaK,EAAb;;AAEA,6BAAOS,KAAP,CAAaV,MAAb,EAAqB,CAArB;AACAJ,mBAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,CAArB;AACA,6BAAOW,KAAP,CAAaV,MAAb,EAAqB,CAArB;AACAJ,mBAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,CAArB;AACA,6BAAOW,KAAP,CAAaV,MAAb,EAAqB,CAArB;AACAJ,mBAAOM,aAAP,CAAqB,IAAIC,WAAJ,CAAgBJ,SAAhB,CAArB;AACH,SAdD;AAeH,KAhBD;AAiBH,CApGD","file":"1-index.js","sourcesContent":["import assert from 'assert';\nimport {\n    addListener,\n    removeListener,\n    skipDefault,\n    emulateClick,\n    delegate,\n    once\n} from '../src/index';\n\ndescribe('ДЗ 5.1 - DOM Events', () => {\n    describe('addListener', () => {\n        it('должна добавлять обработчик событий элемента', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let passed = false;\n            let fn = () => passed = true;\n\n            addListener(eventName, target, fn);\n\n            assert(!passed);\n            target.dispatchEvent(new CustomEvent(eventName));\n            assert(passed);\n        });\n    });\n\n    describe('removeListener', () => {\n        it('должна удалять обработчик событий элемента', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let passed = false;\n            let fn = () => passed = true;\n\n            target.addEventListener(eventName, fn);\n\n            removeListener(eventName, target, fn);\n\n            target.dispatchEvent(new CustomEvent(eventName));\n            assert(!passed);\n        });\n    });\n\n    describe('skipDefault', () => {\n        it('должна добавлять такой обработчик, который предотвращает действие по умолчанию', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let result;\n\n            skipDefault(eventName, target);\n\n            result = target.dispatchEvent(new CustomEvent(eventName, { cancelable: true }));\n            assert(!result);\n        });\n    });\n\n    describe('emulateClick', () => {\n        it('должна эмулировать клик по элементу', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let passed = false;\n            let fn = () => passed = true;\n\n            target.addEventListener(eventName, fn);\n\n            emulateClick(target);\n\n            assert(passed);\n        });\n    });\n\n    describe('delegate', () => {\n        it('должна добавлять обработчик кликов, который реагирует только на клики по кнопкам', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let passed = false;\n            let fn = () => passed = true;\n\n            target.innerHTML = '<div></div><a href=\"#\"></a><p></p><button></button>';\n\n            delegate(target, fn);\n\n            assert(!passed);\n            target.children[0].dispatchEvent(new CustomEvent(eventName, { bubbles: true }));\n            assert(!passed);\n            target.children[1].dispatchEvent(new CustomEvent(eventName, { bubbles: true }));\n            assert(!passed);\n            target.children[2].dispatchEvent(new CustomEvent(eventName, { bubbles: true }));\n            assert(!passed);\n            target.children[3].dispatchEvent(new CustomEvent(eventName, { bubbles: true }));\n            assert(passed);\n        });\n    });\n\n    describe('once', () => {\n        it('должна добавлять обработчик кликов, который сработает только один раз и удалится', () => {\n            let target = document.createElement('div');\n            let eventName = 'click';\n            let passed = 0;\n            let fn = () => passed++;\n\n            once(target, fn);\n\n            assert.equal(passed, 0);\n            target.dispatchEvent(new CustomEvent(eventName));\n            assert.equal(passed, 1);\n            target.dispatchEvent(new CustomEvent(eventName));\n            assert.equal(passed, 1);\n            target.dispatchEvent(new CustomEvent(eventName));\n        });\n    });\n});\n"]}